"use strict";(self["webpackChunkcli"]=self["webpackChunkcli"]||[]).push([[633],{6245:function(e,n,t){function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,o,s=0,i=0,u="";o=n.charAt(i++);~o&&(t=s%4?64*t+o:o,s++%4)?u+=String.fromCharCode(255&t>>(-2*s&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return u};function s(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,n){var t=n.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(n)}catch(e){return o(n)}}function i(e){this.message=e}function u(e,n){if("string"!=typeof e)throw new i("Invalid token specified");var t=!0===(n=n||{}).header?0:1;try{return JSON.parse(s(e.split(".")[t]))}catch(e){throw new i("Invalid token specified: "+e.message)}}i.prototype=new Error,i.prototype.name="InvalidTokenError",n["Z"]=u},1626:function(e,n,t){t.d(n,{aF:function(){return se},MI:function(){return y},g9:function(){return k},CW:function(){return w},Ff:function(){return V},fl:function(){return p},H3:function(){return C},TG:function(){return j},Tb:function(){return f},Ml:function(){return B},YT:function(){return H},iZ:function(){return R},dy:function(){return N},sI:function(){return T},W:function(){return M},W_:function(){return m},A4:function(){return Z},ct:function(){return Q},h7:function(){return b},uw:function(){return te},JM:function(){return Y},V8:function(){return ee},Jd:function(){return G},V2:function(){return ne},Gr:function(){return $},Fx:function(){return J},Si:function(){return z},n1:function(){return U},hb:function(){return g},Jb:function(){return q},_C:function(){return re},FO:function(){return v},cQ:function(){return x},TF:function(){return a},av:function(){return A},nM:function(){return D},o5:function(){return P},iA:function(){return W},WN:function(){return S},mT:function(){return oe},u9:function(){return K},QK:function(){return X},Xv:function(){return O},l1:function(){return _},kL:function(){return F},VV:function(){return l},OD:function(){return L},Xt:function(){return h},Hu:function(){return d},A6:function(){return I},xB:function(){return c},nd:function(){return E}});var r=t(9669),o=t.n(r),s=(t(8341),t(5244));function i(e,n={}){return new Promise(((t,r)=>{o().get(e,{params:n,headers:{Authorization:localStorage.getItem("token")}}).then((e=>{t(e.data)})).catch((e=>{r(e)}))}))}function u(e,n={}){return new Promise(((t,r)=>{o().post(e,n,{headers:{Authorization:localStorage.getItem("token")}}).then((e=>{t(e.data)})).catch((e=>{r(e)}))}))}o().defaults.timeout=5e3,o().defaults.withCredentials=!0,o().defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",o().defaults.baseURL="http://192.168.0.105",o().interceptors.response.use((e=>200===e.status?Promise.resolve(e):Promise.reject(e)),(e=>{if(e.response.status){switch(e.response.status){case 401:localStorage.setItem("token",""),localStorage.setItem("consumer",""),s.z8.error(e.response.data.errorMsg);break;case 403:localStorage.setItem("token",""),localStorage.setItem("consumer",""),s.z8.error(e.response.data.errorMsg);break;case 404:break}return Promise.reject(e.response)}}));const a=()=>i("/songList/getPartSongList"),c=e=>i("/listSong/songforSongListGetAll",e),l=e=>i("/songList/songListGetById",e),g=e=>i("/songList/getLikeSongList",e),d=e=>i("/songList/songListGetSongsCountIncr",e),m=e=>i("/songList/consumerLikeSongList",e),f=e=>i("/songList/consumerGetLikeSingList",e),p=e=>i("songList/consumerDeleteLikeSongList",e),L=e=>i("/songList/songListGetByLetter",e),h=e=>i("/songList/songListGetCountByLetter",e),S=e=>i("/songList/getTogetLikedSongList",e),w=e=>u("/songList/consumerCreatedSongList",e),C=e=>i("/songList/consumerGetCreatedSongList",e),k=e=>i("/listSong/consumerAddSongToSongList",e),y=e=>i("/songList/consumerAddSongGetSongList",e),I=e=>u("/songList/songListUpdate",e),b=e=>i("/listSong/consumerUpdateSongListSongs",e),v=()=>i("/singer/getPartSinger"),F=e=>i("/song/getAllList",e),A=e=>i("/singer/getSingerById",e),G=e=>i("/song/getAllList",e),P=e=>i("/song/getSongPage",e),T=e=>i("/singer/consumerLikeSinger",e),B=e=>i("/singer/consumerGetLikeSinger",e),V=e=>i("/singer/consumerDeleteLikeSinger",e),O=e=>i("/singer/singerGetByLetter",e),_=e=>i("/singer/singerGetCountByLetter",e),U=e=>i("singer/getLikeSinger",e),W=e=>i("singer/getTogetLikedSingers",e),x=()=>i("/song/getPartSong"),D=e=>i("/song/getSongBySongListIdPage",e),M=e=>i("/song/consumerLikeSong",e),z=e=>i("/song/getConsumerLikeSong",e),E=e=>u("/songListComment/subComments",e),J=e=>i("/songListComment/getCommentsBySongListId",e),$=e=>i("/songListComment/getCommentCount",e),N=e=>i("/songListComment/likeOfConsumer",e),q=e=>u("/loginController/login",e),Z=()=>i("/loginController/consumerLogout"),R=()=>i("/loginController/consumerIsLogin"),j=e=>i("/consumer/consumerGetInfo",e),H=e=>u("/consumer/consumerInsert",e),Q=e=>u("/consumer/consumerUpdate",e),X=e=>i("/search/searchGetAll",e),K=e=>i("/search/searchContent",e),Y=e=>i("/search/fileIsExist",e),ee=()=>i("/carousel/getAllCarousel"),ne=()=>i("/product/getAllVIPProduct"),te=e=>i("/aliPayApi/createdOrder",e),re=()=>i("/order/getOrderByConId"),oe=e=>i("/order/payOrderByOrderNo",e),se=e=>i("/order/closeOrderByOrderNo",e)},3633:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(6252);const o=e=>((0,r.dD)("data-v-3a7f7714"),e=e(),(0,r.Cn)(),e),s={class:"login-wrap"},i={class:"login"},u=o((()=>(0,r._)("div",{style:{"font-size":"30px",color:"#000000","text-align":"center"}},"登录",-1))),a=o((()=>(0,r._)("br",null,null,-1))),c={class:"loginBtn"},l=(0,r.Uk)("登录");function g(e,n,t,o,g,d){const m=(0,r.up)("el-input"),f=(0,r.up)("el-form-item"),p=(0,r.up)("el-button"),L=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",i,[(0,r.Wm)(L,{model:g.ruleForm,rules:g.rules,ref:"ruleForm",class:"form"},{default:(0,r.w5)((()=>[u,a,(0,r.Wm)(f,{prop:"username"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:g.ruleForm.username,"onUpdate:modelValue":n[0]||(n[0]=e=>g.ruleForm.username=e),placeholder:"用户名"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(f,{prop:"password"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{type:"password",modelValue:g.ruleForm.password,"onUpdate:modelValue":n[1]||(n[1]=e=>g.ruleForm.password=e),placeholder:"密码"},null,8,["modelValue"])])),_:1}),(0,r._)("div",c,[(0,r.Wm)(p,{type:"primary",onClick:d.submitForm},{default:(0,r.w5)((()=>[l])),_:1},8,["onClick"])])])),_:1},8,["model","rules"])])])}var d=t(1626),m=t(6245),f={name:"",data(){return{error:"",ruleForm:{username:"zsanli",password:"123"},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},consumer:{}}},methods:{submitForm(){this.$refs["ruleForm"].validate((e=>{if(e){let e=new URLSearchParams;e.append("username",this.ruleForm.username),e.append("password",this.ruleForm.password),(0,d.Jb)(e).then((e=>{if(e.success){localStorage.setItem("token",e.data);let n=(0,m.Z)(e.data);console.log(n),(new Date).getTime()<new Date(n.vipExpireTime).getTime()?this.$store.state.isVip=!0:this.$store.state.isVip=!1,localStorage.setItem("consumer",JSON.stringify(n)),this.$router.push("/info")}else this.error=e.errorMsg}))}}))}},created(){this.ruleForm.username=this.$route.query.username,this.ruleForm.password=this.$route.query.password}},p=t(3744);const L=(0,p.Z)(f,[["render",g],["__scopeId","data-v-3a7f7714"]]);var h=L}}]);
//# sourceMappingURL=633.0f7fe912.js.map